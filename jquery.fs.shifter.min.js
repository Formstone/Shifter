/* 
 * Shifter v3.2.0 - 2014-10-27 
 * A jQuery plugin for simple slide-out mobile navigation. Part of the Formstone Library. 
 * http://formstone.it/shifter/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */

!function(a,b){"use strict";function c(c){h||(j=a.extend({},m,c||{}),j.$html=a("html"),j.$body=a("body"),j.$shifts=a("."+[k.page,k.header].join(", .")),j.$nav=a("."+k.navigation),j.$shifts.length>0&&j.$nav.length>0&&(h=!0,j.$body.on(l.click,"."+k.handle,e),void 0!==b.matchMedia&&(j.mediaQuery=b.matchMedia("(max-width:"+(1/0===j.maxWidth?"100000px":j.maxWidth)+")"),j.mediaQuery.addListener(d),d())))}function d(){j.mediaQuery.matches?n.enable():n.disable()}function e(a){a.preventDefault(),a.stopPropagation(),i||(j.$body.hasClass(k.isOpen)?n.close():n.open()),"touchstart"===a.type&&(i=!0,setTimeout(f,500))}function f(){i=!1}var g="shifter",h=!1,i=!1,j={},k={handle:"shifter-handle",page:"shifter-page",header:"shifter-header",navigation:"shifter-navigation",isActive:"shifter-active",isOpen:"shifter-open"},l={click:"touchstart."+g+" click."+g},m={maxWidth:"980px"},n={close:function(){h&&(j.$html.removeClass(k.isOpen),j.$body.removeClass(k.isOpen),j.$shifts.off("."+g),j.$nav.find("input").trigger("blur"))},enable:function(){h&&j.$body.addClass(k.isActive)},destroy:function(){h&&(j.$html.removeClass(k.isOpen),j.$body.removeClass([k.isActive,k.isOpen].join(" ")).off(l.click),void 0!==b.matchMedia&&j.mediaQuery.removeListener(d),j={},h=!1)},disable:function(){h&&(n.close(),j.$body.removeClass(k.isActive))},open:function(){h&&(j.$html.addClass(k.isOpen),j.$body.addClass(k.isOpen),j.$shifts.one(l.click,e))}};a.shifter=function(a){return n[a]?n[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)}}(jQuery,window);