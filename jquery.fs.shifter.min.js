/*
 * Shifter Plugin [Formtone Library]
 * @author Ben Plum
 * @version 0.0.7
 *
 * Copyright Â© 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

if(jQuery)(function(c){var b,h,k,d;function n(a){e=c.extend(e,a||{});b=c("body");h=c(".shifter-page");k=c(".shifter-navigation");0<h.length&&0<k.length?(f=!0,b.addClass("shifter").on("touchstart.shifter click.shifter",".shifter-handle",m),void 0!==window.matchMedia&&(d=window.matchMedia("(max-width:"+(Infinity==e.maxWidth?"100000px":e.maxWidth)+")"),d.addListener(l),l())):console.warn("Shifter Elements Not Found")}function l(){d.matches?g.enable():g.disable()}function m(a){a.preventDefault();a.stopPropagation(); b.hasClass("shifter-open")?g.close():g.open()}var e={maxWidth:"980px"},f=!1;d=k=h=b=void 0;var g={close:function(){f&&(b.removeClass("shifter-open"),k.find("input").trigger("blur"))},enable:function(){f&&b.addClass("shifter-active")},defaults:function(a){e=c.extend(e,a||{})},destroy:function(){f&&(b.removeClass("shifter shifter-active shifter-open").off("touchstart.shifter click.shifter"),void 0!==window.matchMedia&&d.removeListener(l),d=k=h=b=void 0)},disable:function(){f&&b.removeClass("shifter-active")}, open:function(){f&&(b.addClass("shifter-open"),h.one("touchstart.shifter click.shifter",m))}};c.shifter=function(a){return g[a]?g[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?this:n.apply(this,arguments)}})(jQuery);